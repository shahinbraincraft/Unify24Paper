<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>美摄SDK For Android: AR Scene 技术文档</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">美摄SDK For Android
   &#160;<span id="projectnumber">3.5.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">AR Scene 技术文档 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>AR Scene 技术文档 </h1>
<p><b>说明：</b></p>
<p>AR Scene开发在拍摄和编辑上有不同的实现，这两种方式略有不同，本文档以拍摄为例进行讲述。</p>
<div class="image">
<img src="09280e01e455bce384b4170201d6b9d6.png" alt=""/>
</div>
   <h2>概述 </h2>
<p><b>1.1、AR Scene介绍</b></p>
<p>AR Scene技术是AR技术的一个分支，将虚拟信息与真实世界巧妙融合，创造出相关场景，将定制好的场景和实物交融，使效果逼真形象。底层原理是模式识别、轮廓识别、流媒体渲染技术，实现对真实世界的增强。AR Scene是通过场景进行现实增强，有效的呈现出增强世界的内容。</p>
<div class="image">
<img src="db407ba35b9372f2ae0b53443dec2147.jpg" alt=""/>
</div>
   <p>互联网视频中，AR Scene非常常用，通过修饰，构造形象。增强趣味性和动态性。在短视频与直播领域，AR Scene使用更加广泛，成为今天移动视频技术重要的一环。</p>
<p>从技术本质上讲，AR Scene的本质是对GPU的编程，把编辑、合成、字幕、特效、动画等各种效果融为一体。从一定程度上讲，AR Scene是视频合成渲染技术，需要专业的编辑渲染合成操作，美摄科技多年深耕，研发高效SDK、视频捕捉时动态合成，使用户快速的生成，个性化高质量视频或图片。符合互联网时代对视频增强的要求。</p>
<div class="image">
<img src="372257a151a52e56d652a9b80d839343.png" alt=""/>
</div>
   <p><b>1.2、美摄SDK对AR Scene功能的支持</b></p>
<p>美摄SDK通过多媒体和三维建模，在桌面端、Web端、移动端都对AR Scene提供了完整的支持。</p>
<p>目前美摄SDK AR Scene功能主要偏重于人脸轮廓检测，定位人脸的边界，在检测后添加相关场景或者对人脸现有部分进行改变。后期美摄AR Scene技术将会有更多的支持，更细腻的处理。</p>
<div class="image">
<img src="b7bc7bc56a89a5cad671dfc3158b29a1.png" alt=""/>
</div>
   <p><b>1.3、AR Scene整体结构</b></p>
<div class="image">
<img src="ef3aee4492c12ae8054fb1f506dfd5cb.png" alt=""/>
</div>
   <p>说明：磨皮(1/2/3)，美型(1/2)，美白(A/B)在本文档主题7中有解释。</p>
<h2>2、AR Scene的使用 </h2>
<p>AR Scene 特效使用是基于人脸点位的特技效果，集成使用流程一般都需要三个步骤：</p>
<ul>
<li>1.模型初始化 <br  />
</li>
<li>2.添加AR Scene特技</li>
<li>3.调节特技的参数</li>
</ul>
<p><b>2.1、美颜、美型、美妆以及道具，使用的时候都需要模型的初始化，这个是前置操作。</b></p>
<p>下面是模型的初始化流程</p>
<div class="fragment"><div class="line">/**</div>
<div class="line"> * 检测SDK包是否有人脸模块</div>
<div class="line"> *Detects whether the SDK package has a face module</div>
<div class="line"> */</div>
<div class="line">mCanUseARFaceType = [NvsStreamingContext hasARModule];</div>
</div><!-- fragment --><p>首先判断是否包含AR功能，如果包含再去初始化模型文件，否则会初始化失败</p>
<p>如果包含AR功能，接下来就可以进行模型初始化操作，**模型初始化操作涉及文件拷贝耗时操作，建议放在子线程去出处理。**</p>
<p>基础模型初始化部分：</p>
<div class="fragment"><div class="line">NSString *bundlePath = [[NSBundle mainBundle] pathForResource:@&quot;license&quot; ofType:@&quot;bundle&quot;];</div>
<div class="line">NSString *licPath = @&quot;&quot;;</div>
<div class="line">NSString *modelPath;</div>
<div class="line">if(ARSCENE_MS_240){</div>
<div class="line">   modelPath = [[[bundlePath stringByAppendingPathComponent:@&quot;license&quot;] stringByAppendingPathComponent:@&quot;ms&quot;] stringByAppendingPathComponent:@&quot;ms_face240_v2.0.1.model&quot;];</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> /**</div>
<div class="line">  * Streaming sdk 初始化基础人脸点位模型</div>
<div class="line">  * Streaming sdk initializes the basic face point model</div>
<div class="line"> */</div>
<div class="line"> isInitArFaceSuccess = [NvsStreamingContext initHumanDetection:modelPath licenseFilePath:licPath features:NvsHumanDetectionFeature_FaceLandmark|NvsHumanDetectionFeature_FaceAction | NvsHumanDetectionFeature_SemiImageMode]; </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> if (ARSCENE_MS_240) {</div>
<div class="line">     /**</div>
<div class="line">      * 这个跟人脸240点位相关，如果使用240点位，必须加这个否则可能导致不生效</div>
<div class="line">      * This is related to the 240 points of the face.</div>
<div class="line">      * If 240 points are used, this must be added, otherwise it may not take effect.</div>
<div class="line">      */</div>
<div class="line">     NSString *peString = [[[bundlePath stringByAppendingPathComponent:@&quot;license&quot;] stringByAppendingPathComponent:@&quot;ms&quot;] stringByAppendingPathComponent:@&quot;pe240_ms_v1.0.2.dat&quot;];</div>
<div class="line">     [NvsStreamingContext setupHumanDetectionData:NvsHumanDetectionDataType_PE240 dataFilePath:peString];</div>
<div class="line"> }</div>
</div><!-- fragment --><p>上面是基础人脸的模型初始化部分，基本上只要用到AR功能都需要初始化这部分。如果只使用的是106点位，可以不用初始化这个pe240_ms_v1.0.2.dat。</p>
<p>个性功能的模型初始化，按照增加的功能进行初始化就可以。</p>
<div class="fragment"><div class="line">/**</div>
<div class="line"> * 假脸模型初始化，类似面具效果等，特效只跟随脸部动</div>
<div class="line"> * Fake face model initialization, similar to mask effects, etc., the special effects only follow the movement of the face</div>
<div class="line"> */</div>
<div class="line">NSString *fakefacePath = [[bundlePath stringByAppendingPathComponent:@&quot;license&quot;] stringByAppendingPathComponent:@&quot;fakeface.dat&quot;];</div>
<div class="line">[NvsStreamingContext setupHumanDetectionData:NvsHumanDetectionDataType_FakeFace dataFilePath:fakefacePath];</div>
<div class="line"> </div>
<div class="line">/**</div>
<div class="line"> * 美妆2模型初始化</div>
<div class="line"> *The makeup 2 model is initialized</div>
<div class="line"> */</div>
<div class="line"> makeup2Path = [[bundlePath stringByAppendingPathComponent:@&quot;license&quot;] stringByAppendingPathComponent:@&quot;makeup2_240_v1.0.0.dat&quot;];</div>
<div class="line"> [NvsStreamingContext setupHumanDetectionData:NvsHumanDetectionDataType_Makeup2 dataFilePath:makeup2Path];           </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">/**</div>
<div class="line"> * 人像背景分割模型</div>
<div class="line"> * Portrait Background Segmentation Model</div>
<div class="line"> */</div>
<div class="line">NSString *segFilePath = [[[bundlePath stringByAppendingPathComponent:@&quot;license&quot;]stringByAppendingPathComponent:@&quot;ms&quot;] stringByAppendingPathComponent:@&quot;ms_humanseg_v1.0.7.model&quot;];</div>
<div class="line">[NvsStreamingContext initHumanDetectionExt:segFilePath licenseFilePath:nil features:NvsHumanDetectionFeature_Background];</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">/**</div>
<div class="line"> * 半身人像背景分割模型，半身的时候效果比较好</div>
<div class="line"> * Half-length portrait background segmentation model, the effect is better when half-length</div>
<div class="line"> */</div>
<div class="line">NSString *halfSegFilePath = [[[bundlePath stringByAppendingPathComponent:@&quot;license&quot;]stringByAppendingPathComponent:@&quot;ms&quot;] stringByAppendingPathComponent:@&quot;ms_halfbodyseg_v1.0.6.model&quot;];</div>
<div class="line">[NvsStreamingContext initHumanDetectionExt:halfSegFilePath licenseFilePath:nil features:NvsHumanDetectionFeature_HalfBody];</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">/**</div>
<div class="line"> * 手势点位模型，比心等效果会使用到这个模型</div>
<div class="line"> * Gesture point model, heart and other effects will use this model</div>
<div class="line"> */</div>
<div class="line">NSString *handActionPath = [[[bundlePath stringByAppendingPathComponent:@&quot;license&quot;]stringByAppendingPathComponent:@&quot;ms&quot;] stringByAppendingPathComponent:@&quot;ms_hand_v1.0.0.model&quot;];</div>
<div class="line">[NvsStreamingContext initHumanDetectionExt:handActionPath licenseFilePath:nil features:NvsHumanDetectionFeature_HandAction|NvsHumanDetectionFeature_HandLandmark];</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">/**</div>
<div class="line"> * avatar模型初始化，小狐狸效果等，根据表情动的特效果类别会使用这个模型</div>
<div class="line"> * avatar model initialization, little fox effect, etc.,</div>
<div class="line"> * this model will be used according to the special effect category of facial expressions</div>
<div class="line"> */</div>
<div class="line">NSString *mnnFilePath = [[bundlePath stringByAppendingPathComponent:@&quot;license&quot;] stringByAppendingPathComponent:@&quot;ms_expression_v1.0.2.model&quot;];</div>
<div class="line">[NvsStreamingContext initHumanDetectionExt:mnnFilePath licenseFilePath:nil features:NvsHumanDetectionFeature_AvatarExpression];</div>
</div><!-- fragment --><p>模型介绍：</p>
<ul>
<li>fakeface.dat : 假脸模型初始化，凡是道具里边特效**跟随脸部运动**的都需要初始化这个模型，比如如果使用道具里边的面具效果等。</li>
<li>makeup2_106_v1.0.0.dat：106点位的美妆模型，如果需要集成美妆的功能需要初始化这个模型文件。</li>
<li>makeup2_240_v1.0.0.dat：240点位的美妆模型文件。</li>
<li>ms_humanseg_v1.0.7.model：人像背景分割模型，使用到**扣像背景**功能需要初始化这个模型，如果是全身的场景使用这个效果比较好。</li>
<li>ms_halfbodyseg_v1.0.6.model：半身人像分割模型，这个也是对**扣像背景**功能的支持的，当人像是半身的时候使用这个模型初始化效果比较好。</li>
<li>ms_hand_v1.0.0.model： 手势点位模型，道具里边使用需要**跟随手指动**的特效需要加载这个模型，比如比心效果等。</li>
<li>ms_expression_v1.0.2.model：avatar模型，**跟随表情动**的特效需要加载这个模型，比如道具里边的狐狸效果等。</li>
</ul>
<p>以后的模型都是为了支持个性功能，如果没有用到是不需要加载的，以免增加不必要的内存开销。</p>
<p><b>2.2、特技的创建</b></p>
<p>有了前面的前置操作，下面就正式进入AR功能的接入操作，以拍摄添加AR Scene特技为例</p>
<div class="fragment"><div class="line">/**</div>
<div class="line"> * 初始化美颜 美型特效对象</div>
<div class="line"> * Initialize the beauty effect object</div>
<div class="line"> */</div>
<div class="line">if (!fx) {</div>
<div class="line">   fx = [[NvsStreamingContext sharedInstance] appendBuiltinCaptureVideoFx:@&quot;AR Scene&quot;];</div>
<div class="line">}</div>
<div class="line">//美颜开关</div>
<div class="line">[fx setBooleanVal:@&quot;Beauty Effect&quot; val:YES];</div>
<div class="line">//美型开关</div>
<div class="line">[fx setBooleanVal:@&quot;Face Mesh Internal Enabled&quot; val:YES];</div>
<div class="line">//高级美颜开关</div>
<div class="line">[fx setBooleanVal:@&quot;Advanced Beauty Enable&quot; val:YES];</div>
</div><!-- fragment --><p>上面是effect的创建以及一些开关设置，这些也是按使用到的具体功能进行设置的。由于底层是需要render操作，如果没有用到不要开启，这样可以减少内存以及cpu的消耗。</p>
<p><b>2.3美颜功能集成</b></p>
<p>美颜的集成很简单，只需要调节相应的特技的强度就可以看到效果。比如磨皮的添加</p>
<div class="fragment"><div class="line">[fx setFloatVal:@&quot;Beauty Strength&quot; val:0.6];</div>
</div><!-- fragment --><p>这样就可以看到磨皮的效果了，美颜这块的特技都是这样的集成方式。</p>
<p>凡是**带Advanced 的都是是高级美颜**，如果需要使用都需要将高级美颜开关打开。</p>
<p>另外有一个特殊的就是高级磨皮（type 分为0、1）</p>
<div class="fragment"><div class="line">[fx setBooleanVal:@&quot;Advanced Beauty Enable&quot; val:YES];</div>
<div class="line">[fx setIntVal:@&quot;Advanced Beauty Type&quot; val:0];</div>
<div class="line">[fx setFloatVal:@&quot;Advanced Beauty Intensity&quot; val:model.value]; </div>
</div><!-- fragment --><p>这样就添加了一个高级磨皮的效果了。</p>
<p>部分美颜的整理</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">美颜类别 </th><th class="markdownTableHeadNone">名称 </th><th class="markdownTableHeadNone">参数区间  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Beauty Strength </td><td class="markdownTableBodyNone">磨皮 </td><td class="markdownTableBodyNone">（0，1）  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Advanced Beauty Remove Nasolabial Folds Intensity </td><td class="markdownTableBodyNone">法令纹 </td><td class="markdownTableBodyNone">（0，1）  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Advanced Beauty Remove Dark Circles Intensity </td><td class="markdownTableBodyNone">黑眼圈 </td><td class="markdownTableBodyNone">（0，1）  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Advanced Beauty Brighten Eyes Intensity </td><td class="markdownTableBodyNone">亮眼 </td><td class="markdownTableBodyNone">（0，1）  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Advanced Beauty Whiten Teeth IntensityAdvanced Beauty Whiten Teeth Intensity </td><td class="markdownTableBodyNone">美牙 </td><td class="markdownTableBodyNone">（0，1）  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Advanced Beauty Intensity </td><td class="markdownTableBodyNone">高级磨皮 </td><td class="markdownTableBodyNone">（0，1）  </td></tr>
</table>
<p><b>2.4美型的使用</b></p>
<p>美型效果是一个特效包，使用这类效果就修要比美颜多一个步骤：特效包的安装操作。</p>
<div class="fragment"><div class="line">//安装特效包</div>
<div class="line">NSString *path = @&quot;.../3632E2FF-8760-4D90-A2B6-FFF09C117F5D.1.facemesh&quot;;</div>
<div class="line">NSString *licPath = @&quot;.../3632E2FF-8760-4D90-A2B6-FFF09C117F5D.lic&quot;;</div>
<div class="line">NvsStreamingContext *context = [NvsStreamingContext sharedInstance];</div>
<div class="line">NSMutableString *uuid = [[NSMutableString alloc] init];</div>
<div class="line">NvsAssetPackageManagerError error = [context.assetPackageManager installAssetPackage:path license:licPath type:NvsAssetPackageType_FaceMesh sync:YES assetPackageId:uuid];</div>
<div class="line">if (error != NvsAssetPackageManagerError_AlreadyInstalled &amp;&amp; error != NvsAssetPackageManagerError_NoError) {</div>
<div class="line">        NSLog(@&quot;安装素材失败！！！&quot;);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">//设置美型特效</div>
<div class="line">[fx setStringVal:@&quot;Face Mesh Nose Length Custom Package Id&quot; val:uuid];</div>
<div class="line">[fx setFloatVal:@&quot;Face Mesh Nose Length Degree&quot; val:1];</div>
</div><!-- fragment --><p>注意：对特效id的使用以及强度的设置中的key跟特效包是对应的，特效包不一样key是不一样的。</p>
<p><b>2.5道具的使用</b></p>
<p>道具特效是一个特效包，同样需要安装。</p>
<p>下面是道具的使用</p>
<div class="fragment"><div class="line">//道具安装</div>
<div class="line">NSString *path = @&quot;../084A6EC1-43AB-40EF-BBD5-D83F692B011B.3.arscene&quot;;</div>
<div class="line">NSMutableString *sceneId = [[NSMutableString alloc] init];</div>
<div class="line">NvsAssetPackageManagerError error = [[NvsStreamingContext sharedInstance].assetPackageManager installAssetPackage:path license:nil type:NvsAssetPackageType_ARScene sync:YES assetPackageId:sceneId];</div>
<div class="line">    </div>
<div class="line">//设置道具效果</div>
<div class="line">[fx setStringVal:@&quot;Scene Id&quot; val:sceneId];       </div>
</div><!-- fragment --><p>这样我们就添加了一个道具效果，非常简单。</p>
<p>如果需要取消到道具效果：</p>
<div class="fragment"><div class="line">[fx setStringVal:@&quot;Scene Id&quot; val:@&quot;&quot;]; </div>
</div><!-- fragment --><p><b>2.7美妆的使用</b></p>
<p>美妆分为：单妆和妆容。</p>
<p>**单妆**：是一个特效包，效果也是单一的比如嘴唇的口红、眼影、眉毛等，单一的效果。</p>
<div class="fragment"><div class="line">//美妆的安装</div>
<div class="line">NSString *path = @&quot;../07E4CE0F-3AEA-4510-8C23-9267522B7BFE.1.makeup&quot;;</div>
<div class="line">NSMutableString *uuid = [[NSMutableString alloc] init];</div>
<div class="line">NvsAssetPackageManagerError error = [[NvsStreamingContext sharedInstance].assetPackageManager installAssetPackage:path license:nil type:NvsAssetPackageType_Makeup sync:YES assetPackageId:uuid];</div>
<div class="line"> </div>
<div class="line">//单妆使用</div>
<div class="line">NSString *Id; //单妆id</div>
<div class="line">[fx setStringVal:@&quot;Makeup Compound Package Id&quot; val:@&quot;&quot;];</div>
<div class="line">NSString *baseStr = [@&quot;Makeup &quot; stringByAppendingString:Id];</div>
<div class="line">NSString *packageId = [baseStr stringByAppendingString:@&quot; Package Id&quot;];</div>
<div class="line">[fx setStringVal:model.className val:uuid];</div>
<div class="line">NSString *colorStr = [baseStr stringByAppendingString:@&quot; Color&quot;];</div>
<div class="line">NSString *intensityStr = [baseStr stringByAppendingString:@&quot; Intensity&quot;];</div>
<div class="line">[fx setFloatVal:intensityStr val:model.intensity];</div>
</div><!-- fragment --><p>这样就添加了一个单妆</p>
<p>单妆Id的值如下：</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Id </th><th class="markdownTableHeadNone">名称  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Lip </td><td class="markdownTableBodyNone">口红  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Eyebrow </td><td class="markdownTableBodyNone">眉毛  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Eyeshadow </td><td class="markdownTableBodyNone">眼影  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Eyelash </td><td class="markdownTableBodyNone">睫毛  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Eyeliner </td><td class="markdownTableBodyNone">眼线  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Blusher </td><td class="markdownTableBodyNone">腮红  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Shadow </td><td class="markdownTableBodyNone">修容  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Brighten </td><td class="markdownTableBodyNone">高光  </td></tr>
</table>
<p>**妆容**：就是几个单妆、美颜以及美型的一个集合，整体调整出来的一个比较好的效果。妆容的接入有一套中间层的API调用，免去了json解析等各种繁琐的操作，可参考sdkdemo。</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;name&quot;: &quot;occident&quot;,</div>
<div class="line">  &quot;uuid&quot;: &quot;76439F13-47FD-4F98-912F-E3B6B2ED7F54&quot;,</div>
<div class="line">  &quot;version&quot;: 1,</div>
<div class="line">  &quot;cover&quot;: &quot;cover.png&quot;,</div>
<div class="line">  &quot;minSdkVersion&quot;: &quot;3.4.0&quot;,</div>
<div class="line">  &quot;supportedAspectRatio&quot;: &quot;9v16&quot;,</div>
<div class="line">  &quot;translation&quot;: [</div>
<div class="line">    {</div>
<div class="line">      &quot;originalText&quot;: &quot;occident&quot;,</div>
<div class="line">      &quot;targetLanguage&quot;: &quot;zh_CN&quot;,</div>
<div class="line">      &quot;targetText&quot;: &quot;欧美素颜&quot;</div>
<div class="line">    }</div>
<div class="line">  ],</div>
<div class="line">  &quot;effectContent&quot;: {</div>
<div class="line">    &quot;makeupArgs&quot;: [</div>
<div class="line">      {</div>
<div class="line">        &quot;type&quot;: &quot;Blusher&quot;,</div>
<div class="line">        &quot;canReplace&quot;: 1,</div>
<div class="line">        &quot;className&quot;: &quot;Makeup Blusher Package Id&quot;,</div>
<div class="line">        &quot;uuid&quot;: &quot;3821DB49-DBEE-40A8-8064-034E329F5E15&quot;,</div>
<div class="line">        &quot;value&quot;: 1</div>
<div class="line">      },</div>
<div class="line">      {</div>
<div class="line">        &quot;type&quot;: &quot;Brighten&quot;,</div>
<div class="line">        &quot;canReplace&quot;: 1,</div>
<div class="line">        &quot;className&quot;: &quot;Makeup Brighten Package Id&quot;,</div>
<div class="line">        &quot;uuid&quot;: &quot;77C2D7B7-4F32-4E13-92F9-0E85EEA9381D&quot;,</div>
<div class="line">        &quot;value&quot;: 1</div>
<div class="line">      },</div>
<div class="line">      {</div>
<div class="line">        &quot;type&quot;: &quot;Shadow&quot;,</div>
<div class="line">        &quot;canReplace&quot;: 1,</div>
<div class="line">        &quot;className&quot;: &quot;Makeup Shadow Package Id&quot;,</div>
<div class="line">        &quot;uuid&quot;: &quot;F98BFAC3-8CAE-46B4-9098-F6C762E486C3&quot;,</div>
<div class="line">        &quot;value&quot;: 1</div>
<div class="line">      },</div>
<div class="line">      {</div>
<div class="line">        &quot;type&quot;: &quot;Eyebrow&quot;,</div>
<div class="line">        &quot;canReplace&quot;: 1,</div>
<div class="line">        &quot;className&quot;: &quot;Makeup Eyebrow Package Id&quot;,</div>
<div class="line">        &quot;uuid&quot;: &quot;D0F81D94-C66A-4523-8008-48C240D1C1EC&quot;,</div>
<div class="line">        &quot;value&quot;: 0.5</div>
<div class="line">      },</div>
<div class="line">      {</div>
<div class="line">        &quot;type&quot;: &quot;Eyeshadow&quot;,</div>
<div class="line">        &quot;canReplace&quot;: 1,</div>
<div class="line">        &quot;className&quot;: &quot;Makeup Eyeshadow Package Id&quot;,</div>
<div class="line">        &quot;uuid&quot;: &quot;95B37789-078E-4CC5-A017-D6D8F1BE5EC1&quot;,</div>
<div class="line">        &quot;value&quot;: 0.7</div>
<div class="line">      },</div>
<div class="line">      {</div>
<div class="line">        &quot;type&quot;: &quot;Eyelash&quot;,</div>
<div class="line">        &quot;canReplace&quot;: 1,</div>
<div class="line">        &quot;className&quot;: &quot;Makeup Eyelash Package Id&quot;,</div>
<div class="line">        &quot;uuid&quot;: &quot;FF251056-7B07-431F-A9A1-8621813EC57C&quot;,</div>
<div class="line">        &quot;value&quot;: 0.8</div>
<div class="line">      },</div>
<div class="line">      {</div>
<div class="line">        &quot;type&quot;: &quot;Eyeliner&quot;,</div>
<div class="line">        &quot;canReplace&quot;: 1,</div>
<div class="line">        &quot;className&quot;: &quot;Makeup Eyeliner Package Id&quot;,</div>
<div class="line">        &quot;uuid&quot;: &quot;71555D37-11DB-4713-A1A2-687FCD5349A9&quot;,</div>
<div class="line">        &quot;value&quot;: 0.5</div>
<div class="line">      },</div>
<div class="line">      {</div>
<div class="line">        &quot;type&quot;: &quot;Lip&quot;,</div>
<div class="line">        &quot;canReplace&quot;: 1,</div>
<div class="line">        &quot;className&quot;: &quot;Makeup Lip Package Id&quot;,</div>
<div class="line">        &quot;uuid&quot;: &quot;7C854DBE-91D2-4573-8E4C-D60CAF06050B&quot;,</div>
<div class="line">        &quot;value&quot;: 0.8</div>
<div class="line">      }</div>
<div class="line">    ],</div>
<div class="line">    &quot;beauty&quot;: [</div>
<div class="line">      {</div>
<div class="line">        &quot;Advanced Beauty Enable&quot;: 1,</div>
<div class="line">        &quot;Advanced Beauty Type&quot;:1,</div>
<div class="line">        &quot;canReplace&quot;: 1,</div>
<div class="line">        &quot;value&quot;: 1</div>
<div class="line">      },</div>
<div class="line">      {</div>
<div class="line">        &quot;className&quot;: &quot;Beauty Whitening&quot;, </div>
<div class="line">        &quot;Whitening Lut Enabled&quot;: 1,</div>
<div class="line">        &quot;canReplace&quot;: 1,</div>
<div class="line">        &quot;value&quot;: 0.3</div>
<div class="line">      },</div>
<div class="line">      {</div>
<div class="line">        &quot;className&quot;: &quot;Beauty Reddening&quot;,</div>
<div class="line">        &quot;canReplace&quot;: 1,</div>
<div class="line">        &quot;value&quot;: 0.2</div>
<div class="line">      },</div>
<div class="line">      {</div>
<div class="line">        &quot;className&quot;: &quot;Default Beauty Enabled&quot;,</div>
<div class="line">        &quot;canReplace&quot;: 1,</div>
<div class="line">        &quot;value&quot;: 0.5 </div>
<div class="line">      },</div>
<div class="line">      {</div>
<div class="line">        &quot;className&quot;: &quot;Default Sharpen Enabled&quot;,</div>
<div class="line">        &quot;canReplace&quot;: 1,</div>
<div class="line">        &quot;value&quot;: 0                         </div>
<div class="line">      }</div>
<div class="line">    ],</div>
<div class="line">    &quot;shape&quot;: [</div>
<div class="line">        {</div>
<div class="line">          &quot;uuid&quot;: &quot;71C4CF51-09D7-4CB0-9C24-5DE9375220AE&quot;,</div>
<div class="line">          &quot;type&quot;:&quot;Eye Size&quot;,</div>
<div class="line">          &quot;className&quot;: &quot;Face Mesh Eye Size Custom Package Id&quot;,</div>
<div class="line">          &quot;degreeName&quot;:&quot;Face Mesh Eye Size Degree&quot;,</div>
<div class="line">          &quot;canReplace&quot;: 1,</div>
<div class="line">          &quot;value&quot;: 1</div>
<div class="line">        },</div>
<div class="line">        {</div>
<div class="line">          &quot;uuid&quot;: &quot;80AED78B-F31A-4772-8D5E-44E4AABAAE32&quot;,</div>
<div class="line">          &quot;type&quot;:&quot;Face Width&quot;,</div>
<div class="line">          &quot;className&quot;: &quot;Face Mesh Face Width Custom Package Id&quot;,</div>
<div class="line">          &quot;degreeName&quot;:&quot;Face Mesh Face Width Degree&quot;,</div>
<div class="line">          &quot;canReplace&quot;: 1,</div>
<div class="line">          &quot;value&quot;: 0.8</div>
<div class="line">        },</div>
<div class="line">        {</div>
<div class="line">          &quot;uuid&quot;: &quot;FC7C9104-1FDB-483B-BA31-E2D71807E65A&quot;,</div>
<div class="line">          &quot;type&quot;:&quot;Hairline Height&quot;,</div>
<div class="line">          &quot;className&quot;: &quot;Face Mesh Hairline Height Custom Package Id&quot;,</div>
<div class="line">          &quot;degreeName&quot;:&quot;Face Mesh Hairline Height Degree&quot;,</div>
<div class="line">          &quot;canReplace&quot;: 1,</div>
<div class="line">          &quot;value&quot;: 1</div>
<div class="line">        }</div>
<div class="line">    ],</div>
<div class="line">    &quot;microShape&quot;: [</div>
<div class="line">        {</div>
<div class="line">          &quot;uuid&quot;: &quot;7425A707-3CD7-40BC-B9F5-D4B61387467D&quot;,</div>
<div class="line">          &quot;type&quot;:&quot;Temple Width&quot;,</div>
<div class="line">          &quot;className&quot;: &quot;Face Mesh Temple Width Custom Package Id&quot;,</div>
<div class="line">          &quot;degreeName&quot;:&quot;Face Mesh Temple Width Degree&quot;,</div>
<div class="line">          &quot;canReplace&quot;: 1,</div>
<div class="line">          &quot;value&quot;: 0.3</div>
<div class="line">        }</div>
<div class="line">    ],</div>
<div class="line">    &quot;filter&quot;:[</div>
<div class="line">      {</div>
<div class="line">        &quot;isBuiltIn&quot;: 0,</div>
<div class="line">        &quot;canReplace&quot;: 1,</div>
<div class="line">        &quot;uuid&quot;: &quot;4EFE3455-C58D-499C-B311-D445F752D567&quot;,</div>
<div class="line">        &quot;value&quot;: 0.4</div>
<div class="line">      }</div>
<div class="line">    ]</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p>这就是一个妆容的json数据，json介绍：</p>
<ul>
<li>makeupArgs:包含的多个单妆特效</li>
<li>beauty：包含的多个美颜特效</li>
<li>shape：包含多个美型的特效</li>
<li>microShape：包含多个微整形特效（这个就是美颜或者美型）</li>
<li>filter：包含的多个滤镜滤镜特效</li>
</ul>
<p>只要解析这个这个json，并将这些特效应用就是妆容的效果。</p>
<p>以上代码片段，来自美摄sdk demo的主页面以及拍摄页面，可以直接参考工程进行集成。</p>
<p><a href="https://www.meishesdk.com/android/doc_ch/html/content/FxNameList_8md.html">内建参数列表</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
制作者 &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
